radiology_task:
  description: >
    Analyze this X-ray image for anomalies using the 'openai_image_tool'.
    
    Image path: {image_url}
    
    Look for:
    - Lung problems
    - Spots or lesions
    - Secretions
    - Any structural abnormalities
    
    If you cannot access the image, describe what information you would need.
    
    **RETURN ONLY THE JSON, DO NOT EXPLAIN ANYTHING ELSE.**

  expected_output: >
      Format your response in
      {
        "anomaly": boolean,
        "located": string,
        "description": string
      }
      
    # JSON with: "anomaly" (true/false), "located" (where), "description" (what you found)
  
  agent: radiologist

reporting_task:
  description: >
    Analyze the context of the "radiologist" agent you obtained and develop each topic into a complete section for the report. \
    Make sure the report is detailed and contains any and all relevant information. \
    Perform a technical analysis and return a possible pulmonary problem and what is the probability that this is the problem. \
    Ex: pneumonia, pulmonary embolism, etc.
  expected_output: >
    Format your response in JSON with "Technical Analysis" (a detailed technical analysis of the X-ray), and "Possible Pulmonary Problem" (the most likely pulmonary \ problem based on the analysis) + "Probability" (the probability that this is the problem).
  agent: reporting_analyst

circle_radiography_task:
  description: >
    Take the tool '''circle_the_anomaly''' and circle:
    - lung problems mentioned
    - spots
    - secretions

    If you can't find anything, stop there and say you didn't find anything.
  
  expected_output: >
    Return the image with the circles of the anomalies.
  
  agent: anomaly_analyst